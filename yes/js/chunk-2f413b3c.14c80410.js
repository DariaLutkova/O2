(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f413b3c"],{2151:function(e,r,t){"use strict";var a=t("7e56"),o=t.n(a);o.a},"2554b":function(e,r,t){},"3fe5":function(e,r,t){"use strict";var a=t("2554b"),o=t.n(a);o.a},"7e56":function(e,r,t){},dcfb:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"registration main-container"},[t("h1",[e._v("Регистрация")]),t("a-form-model",e._b({ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},"a-form-model",e.layout,!1),[t("a-form-model-item",{attrs:{"has-feedback":"",label:"Имя",prop:"name"}},[t("a-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.ruleForm.name,callback:function(r){e.$set(e.ruleForm,"name",r)},expression:"ruleForm.name"}})],1),t("a-form-model-item",{attrs:{"has-feedback":"",label:"Email",prop:"email"}},[t("a-input",{attrs:{type:"email",autocomplete:"off"},model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),t("a-form-model-item",{attrs:{"has-feedback":"",label:"Пароль",prop:"pass"}},[t("a-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),t("a-form-model-item",{attrs:{"has-feedback":"",label:"Повторите пароль",prop:"checkPass"}},[t("a-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.checkPass,callback:function(r){e.$set(e.ruleForm,"checkPass",r)},expression:"ruleForm.checkPass"}})],1),t("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[t("a-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v(" Зарегестрироваться ")]),e.registrationError?t("div",{staticClass:"registration__error"},[e._v(" "+e._s(e.registrationError)+" ")]):e._e(),e.isUserCreated?t("div",{staticClass:"registration__success"},[e._v(" Аккаунт создан ")]):e._e()],1)],1)],1)},o=[],s={name:"RegistrationForm",data:function(){var e=this,r=function(e,r,t){var a=/.+@.+\..+/;console.log("validate email",!a.test(r)),""===r?t(new Error("Введите email")):a.test(r)?t():t(new Error("Введите корректный email"))},t=function(r,t,a){console.log("validate pass"),""===t?a(new Error("Введите пароль")):t.length<8?a(new Error("Пароль должен быть не менее 8 символов")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),a())},a=function(r,t,a){""===t?a(new Error("Повторите пароль")):t!==e.ruleForm.pass?a(new Error("Пароли не совпадают!")):a()};return{ruleForm:{pass:"",checkPass:"",email:""},rules:{pass:[{validator:t,trigger:"change"}],checkPass:[{validator:a,trigger:"change"}],email:[{validator:r,trigger:"change"}]},layout:{labelCol:{span:4},wrapperCol:{span:14}},isUserCreated:!1}},computed:{registrationError:function(){return this.$store.getters.getRegistrationError}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return!1;r.isUserCreated=!1,r.$store.dispatch("createUser",r.ruleForm).then((function(){r.isUserCreated=!0})).catch((function(e){console.log("registration error",e)}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},l=s,i=(t("3fe5"),t("2151"),t("2877")),n=Object(i["a"])(l,a,o,!1,null,null,null);r["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2f413b3c.14c80410.js.map